<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title xmlns:d="http://docbook.org/ns/docbook">Bootique Documentation</title><link rel="stylesheet" type="text/css" href="css/doc.css"><meta xmlns:d="http://docbook.org/ns/docbook" name="keywords" content="Bootique Framework Documentation version 0 "><meta xmlns:d="http://docbook.org/ns/docbook" name="description" content="Bootique: A Minimally Opinionated Framework for Runnable Java Apps - Documentation version 0"><script xmlns:d="http://docbook.org/ns/docbook" type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-73654436-1', 'auto');
  ga('send', 'pageview');
        </script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" title="Bootique Documentation"><div class="titlepage"><div><div><h1 class="title"><a name="linkrest-guide"></a>Bootique Documentation</h1></div><div><p class="copyright">Copyright &copy; 2016 National Hockey League, ObjectStyle LLC and individual authors</p></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="part"><a href="#overview">I. Overview</a></span></dt><dd><dl><dt><span class="chapter"><a href="#overview-what-is-bootique">1. What is Bootique</a></span></dt><dt><span class="chapter"><a href="#d50e42">2. Java Version</a></span></dt><dt><span class="chapter"><a href="#d50e47">3. Build System</a></span></dt><dt><span class="chapter"><a href="#d50e55">4. Programming Skills</a></span></dt><dt><span class="chapter"><a href="#d50e76">5. What You Can Do with Bootique</a></span></dt></dl></dd><dt><span class="part"><a href="#programming">II. Programming</a></span></dt><dd><dl><dt><span class="chapter"><a href="#programming-runnable-jar">6. Runnable Jar</a></span></dt><dt><span class="chapter"><a href="#programming-modules">7. Modules</a></span></dt><dt><span class="chapter"><a href="#d50e159">8. Commands and Options</a></span></dt><dt><span class="chapter"><a href="#d50e164">9. Working with Configuration</a></span></dt><dt><span class="chapter"><a href="#d50e169">10. Logging</a></span></dt></dl></dd><dt><span class="part"><a href="#testing">III. Testing</a></span></dt><dd><dl><dt><span class="chapter"><a href="#d50e177">11. Writing Unit Tests</a></span></dt></dl></dd><dt><span class="part"><a href="#deployment">IV. Deployment</a></span></dt><dd><dl><dt><span class="chapter"><a href="#deployment-tracing">12. Tracing Bootique Startup</a></span></dt></dl></dd></dl></div><div class="part" title="Part&nbsp;I.&nbsp;Overview"><div class="titlepage"><div><div><h1 class="title"><a name="overview"></a>Part&nbsp;I.&nbsp;Overview</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="chapter"><a href="#overview-what-is-bootique">1. What is Bootique</a></span></dt><dt><span class="chapter"><a href="#d50e42">2. Java Version</a></span></dt><dt><span class="chapter"><a href="#d50e47">3. Build System</a></span></dt><dt><span class="chapter"><a href="#d50e55">4. Programming Skills</a></span></dt><dt><span class="chapter"><a href="#d50e76">5. What You Can Do with Bootique</a></span></dt></dl></div><div class="chapter" title="Chapter&nbsp;1.&nbsp;What is Bootique"><div class="titlepage"><div><div><h2 class="title"><a name="overview-what-is-bootique"></a>Chapter&nbsp;1.&nbsp;What is Bootique</h2></div></div></div><p>Bootique is a minimally opinionated technology for building container-less runnable
            Java applications. No JEE container required to run your app! It is an ideal platform
            for <span class="emphasis"><em><a class="link" href="http://martinfowler.com/articles/microservices.html" target="_top">microservices</a></em></span>, as it allows you to create a fully functional
            app with minimal-to-no setup. Though it is not limited to a specific kind of app (or the
            "micro" size) and can be used for REST services, webapps, runnable jobs, DB migrations,
            JavaFX GUI apps to mention a few examples.</p><p>Unlike traditional container-based apps, Bootique allows you to control your
                <code class="code">main()</code> method and create Java apps that behave like simple executable
            commands that can be run with
            Java:</p><pre class="programlisting">java -jar my.jar [arguments]</pre><p>Each Bootique app can be started with a YAML configuration loaded from a file or from
            a remote URL. Among other benefits, such configuration approach ideally suits cloud
            deployment environments.</p><p>Bootique was inspired by two similar products - <a class="link" href="http://www.dropwizard.io/" target="_top">Dropwizard</a> and <a class="link" href="http://projects.spring.io/spring-boot/" target="_top">SpringBoot</a>, however its
            focus is different. Bootique favors modularity and clean pluggable architecture.
            Bootique is built on top of <a class="link" href="https://github.com/google/guice" target="_top">Google
                Guice</a> dependency injection (DI) container, which provides the core of its
            modularity mechanism. This means that pretty much anything in Bootique can be
            customized/overridden to your liking.</p></div><div class="chapter" title="Chapter&nbsp;2.&nbsp;Java Version"><div class="titlepage"><div><div><h2 class="title"><a name="d50e42"></a>Chapter&nbsp;2.&nbsp;Java Version</h2></div></div></div><p>Java 8 or newer is required. </p></div><div class="chapter" title="Chapter&nbsp;3.&nbsp;Build System"><div class="titlepage"><div><div><h2 class="title"><a name="d50e47"></a>Chapter&nbsp;3.&nbsp;Build System</h2></div></div></div><p>Bootique apps can be built using any Java build system (Ant, Maven, Gradle, etc).
                Examples in the documentation are based on Maven and
                <code class="code">maven-shade-plugin</code>. While this is not strictly a requirement, Bootique
                apps are usually packaged into "fat" runnable jars and don't have any external
                dependencies beyond the JRE.</p></div><div class="chapter" title="Chapter&nbsp;4.&nbsp;Programming Skills"><div class="titlepage"><div><div><h2 class="title"><a name="d50e55"></a>Chapter&nbsp;4.&nbsp;Programming Skills</h2></div></div></div><p>Everyting you know about Java programming will be applicable when working with
            Bootique. You may need to "unlearn" some of the practices related to JEE configuration
            and container deployment though. </p><p>Integration between various parts of a Bootique app is done via <a class="link" href="https://github.com/google/guice" target="_top">Google Guice</a>. In most cases
            Bootique API would steer you towards idiomatic approach to integration, so deep
            knowledge of Guice is not required. Though it wouldn't hurt to understand a few main
            concepts: modules, bindings, <a class="link" href="https://github.com/google/guice/wiki/Multibindings" target="_top">multibindings</a>, <a class="link" href="http://google.github.io/guice/api-docs/latest/javadoc/index.html?com/google/inject/util/Modules.html" target="_top">overrides</a>.</p><p>Java <a class="link" href="https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html" target="_top">ServiceLoader</a> facility is another important part of Bootique, and
                probably one other thing that you shouldn't worry too much about initially.</p></div><div class="chapter" title="Chapter&nbsp;5.&nbsp;What You Can Do with Bootique"><div class="titlepage"><div><div><h2 class="title"><a name="d50e76"></a>Chapter&nbsp;5.&nbsp;What You Can Do with Bootique</h2></div></div></div><p>Core framework of Bootique is pretty small. It contains a command-line processor,
            configuration parser and a DI environment to load modules and execute commands. Most of
            the actual functionality is delegated to modules that are either developed by Bootique
            community or written by you as a developer. There is a growing list of the former kind.
            Here are just some examples to give a taste of what you can do with Bootique out of the box:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><a class="link" href="https://github.com/nhl/bootique-jetty" target="_top">Bootique
                            Jetty</a> provides embedded Jetty web server to run servlets and
                        servlet filters</p></li><li class="listitem"><p><a class="link" href="https://github.com/nhl/bootique-jersey" target="_top">Bootique
                            Jersey</a> provides functionality to run JAX-RS resources on top of
                        bootique-jetty. This is a starting point of your typical microservices
                        stack.</p></li><li class="listitem"><p><a class="link" href="https://github.com/nhl/bootique-jdbc" target="_top">Bootique
                            JDBC</a> provides a collection of JDBC DataSources to the app.</p></li><li class="listitem"><p><a class="link" href="https://github.com/nhl/bootique-cayenne" target="_top">Bootique
                            Cayenne</a> provides a powerful ORM.</p></li><li class="listitem"><p><a class="link" href="https://github.com/nhl/bootique-liquibase" target="_top">Bootique
                            Liquibase</a> provides a way to run DB migrations as Bootique
                        apps.</p></li><li class="listitem"><p>and more...</p><p> </p></li></ul></div></div></div><div class="part" title="Part&nbsp;II.&nbsp;Programming"><div class="titlepage"><div><div><h1 class="title"><a name="programming"></a>Part&nbsp;II.&nbsp;Programming</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="chapter"><a href="#programming-runnable-jar">6. Runnable Jar</a></span></dt><dt><span class="chapter"><a href="#programming-modules">7. Modules</a></span></dt><dt><span class="chapter"><a href="#d50e159">8. Commands and Options</a></span></dt><dt><span class="chapter"><a href="#d50e164">9. Working with Configuration</a></span></dt><dt><span class="chapter"><a href="#d50e169">10. Logging</a></span></dt></dl></div><div class="chapter" title="Chapter&nbsp;6.&nbsp;Runnable Jar"><div class="titlepage"><div><div><h2 class="title"><a name="programming-runnable-jar"></a>Chapter&nbsp;6.&nbsp;Runnable Jar</h2></div></div></div><p>TODO</p></div><div class="chapter" title="Chapter&nbsp;7.&nbsp;Modules"><div class="titlepage"><div><div><h2 class="title"><a name="programming-modules"></a>Chapter&nbsp;7.&nbsp;Modules</h2></div></div></div><p>Bootique framework is just a small DI-based launcher that doesn't do much by itself.
            Its power comes from being a <span class="italic">command-line plugin
                environment</span> that can run modules. There's a growing list of "standard"
            modules provided by Bootique development team. And you can easily write your own. A
            module is a Java library that contains some code plus a <a class="link" href="https://google.github.io/guice/api-docs/latest/javadoc/index.html?com/google/inject/Module.html" target="_top">Guice Module class</a> that binds module-specific services. Module services can
            rely on services declared in the <a class="link" href="https://github.com/nhl/bootique/blob/master/src/main/java/com/nhl/bootique/BQCoreModule.java" target="_top">Bootique core module</a> as well as in other modules. </p><p>As you see we are using the word "module" either to refer to a Guice Module class, or
            to a whole a code module. The meaning should be clear from the context.</p><p>Application most often then not adds its own (Guice) Module to Bootique runtime that
            provides app-specific behavior. Though apps that are simply collections of other modules
            are perfectly valid as well. </p><p>Modules can be autoloaded via <code class="code">Bootique.autoLoadModules()</code> as long as they
            are included in your aplication dependencies. Autloading is built on the Java <a class="link" href="https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html" target="_top">ServiceLoader mechanism</a>. To support auto loading of your own modules, first
            implement <code class="code">com.nhl.bootique.BQModuleProvider</code> interface to create a Module
            instance for your own extension, and then add a file
                <code class="code">META-INF/services/com.nhl.bootique.BQModuleProvider</code> with the only line
            containing the name of your BQModuleProvider implementor. E.g.:</p><pre class="programlisting">com.foo.MyOwnModuleProvider</pre><p>On autoloading modules are configured using YAML config (as described below). Some
            modules additionally allow configuration in the code (e.g. see <a class="link" href="https://github.com/nhl/bootique-jersey/blob/master/src/main/java/com/nhl/bootique/jersey/JerseyModule.java" target="_top">JerseyModule</a> shown in the "Getting Started" example above).</p></div><div class="chapter" title="Chapter&nbsp;8.&nbsp;Commands and Options"><div class="titlepage"><div><div><h2 class="title"><a name="d50e159"></a>Chapter&nbsp;8.&nbsp;Commands and Options</h2></div></div></div><p>TODO</p></div><div class="chapter" title="Chapter&nbsp;9.&nbsp;Working with Configuration"><div class="titlepage"><div><div><h2 class="title"><a name="d50e164"></a>Chapter&nbsp;9.&nbsp;Working with Configuration</h2></div></div></div><p>TODO</p></div><div class="chapter" title="Chapter&nbsp;10.&nbsp;Logging"><div class="titlepage"><div><div><h2 class="title"><a name="d50e169"></a>Chapter&nbsp;10.&nbsp;Logging</h2></div></div></div><p>TODO</p></div></div><div class="part" title="Part&nbsp;III.&nbsp;Testing"><div class="titlepage"><div><div><h1 class="title"><a name="testing"></a>Part&nbsp;III.&nbsp;Testing</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="chapter"><a href="#d50e177">11. Writing Unit Tests</a></span></dt></dl></div><div class="chapter" title="Chapter&nbsp;11.&nbsp;Writing Unit Tests"><div class="titlepage"><div><div><h2 class="title"><a name="d50e177"></a>Chapter&nbsp;11.&nbsp;Writing Unit Tests</h2></div></div></div><p>TODO</p></div></div><div class="part" title="Part&nbsp;IV.&nbsp;Deployment"><div class="titlepage"><div><div><h1 class="title"><a name="deployment"></a>Part&nbsp;IV.&nbsp;Deployment</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="chapter"><a href="#deployment-tracing">12. Tracing Bootique Startup</a></span></dt></dl></div><div class="chapter" title="Chapter&nbsp;12.&nbsp;Tracing Bootique Startup"><div class="titlepage"><div><div><h2 class="title"><a name="deployment-tracing"></a>Chapter&nbsp;12.&nbsp;Tracing Bootique Startup</h2></div></div></div><p>To see what modules are loaded and to trace other events that happen on startup, run
            your jar with <code class="code">-Dbq.trace</code> option. E.g.:</p><pre class="programlisting">java -Dbq.trace -jar target/myapp-1.0.jar --server</pre><p>You may see an output like this:</p><pre class="programlisting">Skipping module 'JerseyModule' provided by 'JerseyModuleProvider' (already provided by 'Bootique')...
Adding module 'BQCoreModule' provided by 'Bootique'...
Adding module 'JerseyModule' provided by 'Bootique'...
Adding module 'JettyModule' provided by 'JettyModuleProvider'...
Adding module 'LogbackModule' provided by 'LogbackModuleProvider'...</pre></div></div></div></body></html>